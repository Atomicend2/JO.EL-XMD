(function(_0x1529f4,_0x106089){const _0x57d8f8=_0x2343,_0x17dae4=_0x1529f4();while(!![]){try{const _0x31fead=-parseInt(_0x57d8f8(0x1ea))/0x1*(-parseInt(_0x57d8f8(0x20f))/0x2)+-parseInt(_0x57d8f8(0x20b))/0x3+parseInt(_0x57d8f8(0x21a))/0x4*(parseInt(_0x57d8f8(0x21b))/0x5)+-parseInt(_0x57d8f8(0x1ff))/0x6+parseInt(_0x57d8f8(0x1ed))/0x7*(parseInt(_0x57d8f8(0x203))/0x8)+parseInt(_0x57d8f8(0x200))/0x9+-parseInt(_0x57d8f8(0x212))/0xa;if(_0x31fead===_0x106089)break;else _0x17dae4['push'](_0x17dae4['shift']());}catch(_0x1a40d9){_0x17dae4['push'](_0x17dae4['shift']());}}}(_0x3779,0x91dbe));import _0x399e82,{prepareWAMessageMedia}from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x399e82;import _0x45efd3 from'@xaviabot/fb-downloader';import _0xd7ea5c from'../../config.cjs';const fbSearchResultsMap=new Map();function _0x2343(_0x46d526,_0x8b3dd1){const _0x377901=_0x3779();return _0x2343=function(_0x2343b6,_0x3482a6){_0x2343b6=_0x2343b6-0x1e0;let _0xfc0035=_0x377901[_0x2343b6];return _0xfc0035;},_0x2343(_0x46d526,_0x8b3dd1);}function _0x3779(){const _0x2060bf=['push','waUploadToServer','get','React','length','relayMessage','from','720330UBHIbg','startsWith','split','reply','2IaAEGf','·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ä·¥è·¥á ü\x20·¥õ·¥á·¥Ñ ú','title','8807500jfuUEd','paramsJson','parse','PREFIX','video/mp4','thumbnail','fbmedia_','resolution','132PWawUe','7255wqnHkt','map','toLowerCase','No\x20results\x20found.','sender','templateButtonReplyMessage','message','selectedId','trim','set','Error\x20processing\x20your\x20request:','facebook','remoteJid','stringify','Video\x20Qualities','28613aRXbEA','Footer','InteractiveMessage','112364mlDsob','slice','arrayBuffer','includes','key','Header','error','Body','üì•\x20Download\x20','url','create','body','Message','sendMessage','interactiveResponseMessage','fbData:','¬©\x20powered\x20by\x20Mercedes','*ùôπùôæùöéùöï\x20FACEBOOK\x20POST\x20DOWNLOADER*\x0a\x0a>\x20*TITLE*:\x20','2936370uuPFqY','8634609VYBRWb','NativeFlowMessage','quick_reply','584aFivCS'];_0x3779=function(){return _0x2060bf;};return _0x3779();}let fbSearchIndex=0x1;const facebookCommand=async(_0x36d05c,_0x526548)=>{const _0x643c5b=_0x2343;let _0x13ca7e;const _0xf75d31=_0x36d05c?.[_0x643c5b(0x1e1)]?.[_0x643c5b(0x1e0)]?.[_0x643c5b(0x1e2)],_0xdb5290=_0x36d05c?.[_0x643c5b(0x1e1)]?.[_0x643c5b(0x1fb)];if(_0xdb5290){const _0x56df85=_0xdb5290['nativeFlowResponseMessage']?.[_0x643c5b(0x213)];if(_0x56df85){const _0x5c7687=JSON[_0x643c5b(0x214)](_0x56df85);_0x13ca7e=_0x5c7687['id'];}}const _0x21a90f=_0x13ca7e||_0xf75d31,_0x35e5d6=_0xd7ea5c[_0x643c5b(0x215)],_0x128da9=_0x36d05c[_0x643c5b(0x1f8)][_0x643c5b(0x20c)](_0x35e5d6)?_0x36d05c[_0x643c5b(0x1f8)][_0x643c5b(0x1ee)](_0x35e5d6[_0x643c5b(0x208)])[_0x643c5b(0x20d)]('\x20')[0x0][_0x643c5b(0x21d)]():'',_0x712d01=_0x36d05c['body'][_0x643c5b(0x1ee)](_0x35e5d6[_0x643c5b(0x208)]+_0x128da9[_0x643c5b(0x208)])[_0x643c5b(0x1e3)](),_0x1c3e9f=[_0x643c5b(0x1e6),'fb','fbdl'];if(_0x1c3e9f[_0x643c5b(0x1f0)](_0x128da9)){if(!_0x712d01)return _0x36d05c[_0x643c5b(0x20e)]('Please\x20provide\x20a\x20Facebook\x20video\x20URL.');try{await _0x36d05c[_0x643c5b(0x207)]('üïò');const _0x83a93d=await _0x45efd3(_0x712d01);console['log'](_0x643c5b(0x1fc),_0x83a93d);if(!_0x83a93d){await _0x36d05c[_0x643c5b(0x20e)](_0x643c5b(0x21e)),await _0x36d05c[_0x643c5b(0x207)]('‚ùå');return;}fbSearchResultsMap[_0x643c5b(0x1e4)](fbSearchIndex,_0x83a93d);const _0x3ccab7=[];_0x83a93d['sd']&&_0x3ccab7[_0x643c5b(0x204)]({'resolution':'SD','url':_0x83a93d['sd']});_0x83a93d['hd']&&_0x3ccab7[_0x643c5b(0x204)]({'resolution':'HD','url':_0x83a93d['hd']});const _0x27529d=_0x3ccab7[_0x643c5b(0x21c)]((_0x105406,_0x4d6bf0)=>({'name':_0x643c5b(0x202),'buttonParamsJson':JSON[_0x643c5b(0x1e8)]({'display_text':_0x643c5b(0x1f5)+_0x105406['resolution'],'id':_0x643c5b(0x218)+_0x4d6bf0+'_'+fbSearchIndex})})),_0x2806b9=_0x3ccab7[_0x643c5b(0x21c)](_0x4b6418=>({'title':_0x643c5b(0x1e9),'rows':[{'title':'üì•\x20Download\x20'+_0x4b6418[_0x643c5b(0x219)],'description':'Resolution:\x20'+_0x4b6418[_0x643c5b(0x219)],'id':_0x643c5b(0x218)+fbSearchIndex+'_'+_0x4b6418[_0x643c5b(0x219)]}]})),_0x12aa03=generateWAMessageFromContent(_0x36d05c[_0x643c5b(0x20a)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x643c5b(0x1f9)][_0x643c5b(0x1ec)][_0x643c5b(0x1f7)]({'body':proto[_0x643c5b(0x1f9)]['InteractiveMessage'][_0x643c5b(0x1f4)][_0x643c5b(0x1f7)]({'text':_0x643c5b(0x1fe)+_0x83a93d[_0x643c5b(0x211)]}),'footer':proto[_0x643c5b(0x1f9)][_0x643c5b(0x1ec)][_0x643c5b(0x1eb)][_0x643c5b(0x1f7)]({'text':_0x643c5b(0x1fd)}),'header':proto[_0x643c5b(0x1f9)][_0x643c5b(0x1ec)][_0x643c5b(0x1f2)][_0x643c5b(0x1f7)]({...await prepareWAMessageMedia({'image':{'url':_0x83a93d[_0x643c5b(0x217)]}},{'upload':_0x526548[_0x643c5b(0x205)]}),'title':'','gifPlayback':!![],'subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto['Message'][_0x643c5b(0x1ec)][_0x643c5b(0x201)][_0x643c5b(0x1f7)]({'buttons':_0x27529d}),'contextInfo':{'quotedMessage':_0x36d05c[_0x643c5b(0x1e1)],'mentionedJid':[_0x36d05c[_0x643c5b(0x21f)]],'forwardingScore':0x270f,'isForwarded':!![]}})}}},{});await _0x526548[_0x643c5b(0x209)](_0x12aa03[_0x643c5b(0x1f1)][_0x643c5b(0x1e7)],_0x12aa03[_0x643c5b(0x1e1)],{'messageId':_0x12aa03[_0x643c5b(0x1f1)]['id']}),await _0x36d05c['React']('‚úÖ'),fbSearchIndex+=0x1;}catch(_0xb6f6b1){console['error'](_0x643c5b(0x1e5),_0xb6f6b1),await _0x36d05c[_0x643c5b(0x20e)]('Error\x20processing\x20your\x20request.'),await _0x36d05c[_0x643c5b(0x207)]('‚ùå');}}else{if(_0x21a90f){if(_0x21a90f[_0x643c5b(0x20c)](_0x643c5b(0x218))){const _0x2a5bfa=_0x21a90f['split']('_'),_0xa3f7b5=parseInt(_0x2a5bfa[0x1]),_0x4ec5a1=parseInt(_0x2a5bfa[0x2]),_0x35b430=fbSearchResultsMap[_0x643c5b(0x206)](_0x4ec5a1);if(_0x35b430)try{const _0x4619d4=[];_0x35b430['sd']&&_0x4619d4['push']({'resolution':'SD','url':_0x35b430['sd']});_0x35b430['hd']&&_0x4619d4[_0x643c5b(0x204)]({'resolution':'HD','url':_0x35b430['hd']});const _0x3b81a8=_0x4619d4[_0xa3f7b5][_0x643c5b(0x1f6)];let _0x4123b4,_0xbcc866,_0x3b4d22;_0x4123b4=await getStreamBuffer(_0x3b81a8),_0xbcc866=_0x643c5b(0x216);const _0x47c457=_0x4123b4[_0x643c5b(0x208)]/(0x400*0x400);_0x47c457<=0x12c?(_0x3b4d22={'video':_0x4123b4,'mimetype':'video/mp4','caption':_0x643c5b(0x210)},await _0x526548[_0x643c5b(0x1fa)](_0x36d05c['from'],_0x3b4d22,{'quoted':_0x36d05c})):await _0x36d05c[_0x643c5b(0x20e)]('The\x20video\x20file\x20size\x20exceeds\x20300MB.');}catch(_0x33620e){console[_0x643c5b(0x1f3)](_0x643c5b(0x1e5),_0x33620e),await _0x36d05c[_0x643c5b(0x20e)]('Error\x20processing\x20your\x20request.'),await _0x36d05c[_0x643c5b(0x207)]('‚ùå');}}}}},getStreamBuffer=async _0xed001b=>{const _0x31e9ef=_0x2343,_0x1e9193=await fetch(_0xed001b),_0x1d903d=await _0x1e9193[_0x31e9ef(0x1ef)]();return Buffer['from'](_0x1d903d);};export default facebookCommand;